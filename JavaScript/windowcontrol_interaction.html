<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>
<body>
  <input type="button" value="open" onclick="winopen();" />
  <input type="text" onkeypress="winmessage(this.value)" />
  <input type="button" value="close" onclick="winclose()">

  <script>
    function winopen() {
      // window.open 메소드를 통해서 새창을 열게 되면 어떠한 값을 리턴해주는데
      // 그 값은 demo2.html 새로운 창의 윈도우 객체가 담겨진다
      win = window.open(`demo2.html`, `ot`, `width=300px, height=500px`);
    }
    
    // onkeypress 로 인해 입력창에 입력을 하는대로 winmessage가 실행되는데
    // 이때 winopne()을 통해 열린 새창의 ID 값이 'message'인 태그의 값에 innerText가 저장되기때문에
    // 결과적으로 입력창에 입력하는대로 새창에 입력값들이 뜨게 된다.
    function winmessage(msg) {
      win.document.ElementById(`message`).innerText=msg;
    }

    function winclose() {
      win.close();
    }

    // 웹페이지가 같은 도메인의 사이트라면 (ex.localhost) 같은 제작자이기 떄문에
    // 같은 도메인의 사이트라면 javaScript를 통해서 원격으로 다른 웹페이지를 제어하는 것이 허용이 된다.
    // 하지만 만약 다른 도메인의 사이트라면 사이트를 만든 사람이 다르기 때문에
    // 만약 원격으로 서로 다른 사이트에 접속하는 것이 가능하다면 악의적인 작업을 할 여지가 있기 때문에
    // open은 할 수 있어도 같은 도메인일 경우에만 원격으로 제어가 가능하다
    // ==> 팝업의 문제: 인터넷의 사용성을 저해한다
    // 어떤 사이트에 들어왔을 때 팝업이 뜨는 것이 사용자에게 여러가지 불편함을 줬기 때문에
    // 브라우저 업체들이 팝업을 기본적으로 차단하고 사용자가 명시적으로 팝업을 허용했을 때만 팝업이 열리도록 정책을 변경했다
    // =====> 보안적인 측면
    
  </script>


</body>
</html>